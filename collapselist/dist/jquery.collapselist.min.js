(function(c){var b="collapseList",d={moreText:"and there are %limit% items",limit:3};function a(f,e){this.$element=c(f);this.$liCount=this.$element.children().length;this.options=c.extend({},d,e);this.init()}a.prototype={init:function(){var e=this;e.getAttrOption("moretext");e.getAttrOption("limit");if(this.$liCount>e.options.limit){e.$element.find("li:nth-child( "+e.options.limit+" )").addClass("collapseList_hideAfter");e.$element.append('<li class="collapseList_noHide"><a href="#" data-collapselist-click>'+e.options.moreText.replace("%limit%",this.$liCount-e.options.limit)+"</a></li>")}},getAttrOption:function(f){var e=this;e.options[f]=(e.$element.attr("data-readmore-"+f)==undefined)?e.options[f]:e.$element.attr("data-readmore-"+f)},click:function(g){g.preventDefault();var f=c(this);f.closest("ul").find(".collapseList_hideAfter").removeClass("collapseList_hideAfter");f.closest("ul").find(".collapseList_noHide").remove()}};c.fn[b]=function(e){return this.each(function(){if(!c.data(this,b)){c.data(this,b,new a(this,e))}})};c(document).on("click","[data-collapselist-click]",a.prototype.click)})(jQuery);