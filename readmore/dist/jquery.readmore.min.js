(function(d){var c="readMore",f={moreText:"Read more",lessText:"Read less",line:5};function b(h,g){this.$element=d(h);this.options=d.extend({},f,g);this.init()}b.prototype={init:function(){var g=this;var j=g.$element.outerHeight();var i=g.$element.css("line-height").replace(/[^\d\.]+/,"");g.getAttrOptions();var k=i*g.options.line;if(j>k){var h=Math.random().toString(36).substring(3);g.$element.css("height",k).attr("data-readmore-height",k).css("overflow","hidden").attr("data-readmore-id",h);d('[data-readmore-id="'+h+'"]').after('<a data-readmore-id="'+h+'" href="#">'+g.options.moreText+"</a>");d("a[data-readmore-id="+h+"]").attr("data-readmore-moreText",g.options.moreText).attr("data-readmore-lessText",g.options.lessText).attr("data-readmore-click","no")}},getAttrOptions:function(){var g=this;g.options.line=(g.$element.attr("data-readmore-line")==undefined)?g.options.line:g.$element.attr("data-readmore-line")},click:function(i){i.preventDefault();var h=d(this);var g=h.attr("data-readmore-id");if(h.attr("data-readmore-click")=="no"){d("[data-readmore][data-readmore-id="+g+"]").removeAttr("style");h.attr("data-readmore-click","yes");h.text(h.attr("data-readmore-lessText"))}else{var j=d("[data-readmore][data-readmore-id="+g+"]").attr("data-readmore-height");d("[data-readmore][data-readmore-id="+g+"]").css("height",j).css("overflow","hidden");h.attr("data-readmore-click","no");h.text(h.attr("data-readmore-moreText"))}}};d.fn[c]=function(g){return this.each(function(){if(!d.data(this,c)){d.data(this,c,new b(this,g))}})};d(document).on("click","[data-readmore-click]",b.prototype.click);var a="removeReadMore";function e(g){this.$element=d(g);this.destory()}e.prototype={destory:function(){var g=this;var h=g.$element.attr("data-readmore-id");d('a[data-readmore-id="'+h+'"]').remove();g.$element.removeAttr("data-readmore").removeAttr("data-readmore-line").removeAttr("data-readmore-id").removeAttr("data-readmore-height").removeAttr("style")}};d.fn[a]=function(){return this.each(function(){if(!d.data(this,a)){d.data(this,a,new e(this))}})}})(jQuery);