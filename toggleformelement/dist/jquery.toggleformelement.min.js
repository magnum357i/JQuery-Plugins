!function(e){"use strict";function t(t){this.$element=e(t),this.init()}t.prototype={init:function(){var t,r,o=this,l=o.$element.prop("tagName");if("INPUT"==l&&"radio"==o.$element.attr("type")){if(t=o.getAttrOption(o.$element,"target"),r=o.getAttrOption(o.$element,"groups"),null!=t&&null!=r)for(var n=t.split(","),i=0;i<n.length;i++)o.hideElement(n[i],r),o.$element.prop("checked")&&o.showElement(n[i],r);else console.log("[toggleFormElement] Missing parameters for radio.");o.$element.on("click",e.proxy(o.eClick,o))}else"SELECT"==l?o.$element.prop("multiple")?console.log("[toggleFormElement] The format of this element is not support."):(o.$element.find("option").each(function(){var l=e(this);if(t=o.getAttrOption(l,"target"),r=o.getAttrOption(l,"groups"),null!=t&&null!=r)for(var n=t.split(","),i=0;i<n.length;i++)o.hideElement(n[i],r),l.prop("selected")&&o.showElement(n[i],r);else console.log("[toggleFormElement] Missing parameters for select box.")}),o.$element.on("change",e.proxy(o.eChange,o))):console.log("[toggleFormElement] This element is not support.")},getAttrOption:function(e,t){return e.attr("data-toggleformelement-"+t)},hideAllOpenedElements:function(t){var r='[data-toggleformelement-group="'+t+'"][data-toggleformelement-status="open"]';e(r+"[required]").prop("required",!1).attr("data-required",""),e(r+" [required]").prop("required",!1).attr("data-required",""),e(r).attr("data-toggleformelement-status","closed").toggle()},hideElement:function(t,r){var o=t;e(o).attr("data-toggleformelement-group",r).attr("data-toggleformelement-status","closed").toggle(),e(o+"[required]").prop("required",!1).attr("data-required",""),e(o+" [required]").prop("required",!1).attr("data-required","")},showElement:function(t,r){var o=t+'[data-toggleformelement-group="'+r+'"][data-toggleformelement-status="closed"]';e(o+"[data-required]").prop("required",!0).removeAttr("data-required"),e(o+" [data-required]").prop("required",!0).removeAttr("data-required"),e(o).attr("data-toggleformelement-status","open").toggle()},eClick:function(){var e=this.getAttrOption(this.$element,"target"),t=this.getAttrOption(this.$element,"groups");if(null!=e&&null!=t){this.hideAllOpenedElements(t);for(var r=e.split(","),o=0;o<r.length;o++)this.showElement(r[o],t)}},eChange:function(){var t=this.$element.prop("multiple"),r=e("option:selected",this.$element);if(!t){var o=this.getAttrOption(r,"target"),l=this.getAttrOption(r,"groups");if(null!=o&&null!=l){this.hideAllOpenedElements(l);for(var n=o.split(","),i=0;i<n.length;i++)this.showElement(n[i],l)}}}},e.fn.toggleFormElement=function(){return this.each(function(){e.data(this,"toggleFormElement")||e.data(this,"toggleFormElement",new t(this))})}}(jQuery);